<div class="create-recipe-container">
  <h2>Создание рецепта</h2>
  <form [formGroup]="createRecipeForm" (ngSubmit)="onSubmit()">
    <fieldset class="form-section">
      <legend>Основная информация</legend>
      <div class="form-group">
        <label for="title">Название рецепта:</label>
        <input id="title" formControlName="title" matInput>
      </div>

      <div class="form-group">
        <label for="body">Краткое описание:</label>
        <textarea id="body" formControlName="body" matInput></textarea>
      </div>
    </fieldset>

    <fieldset class="form-section">
      <legend>Дополнительная информация</legend>
      <div class="form-group" formArrayName="tags">
        <label>Категория:</label>
        <div *ngFor="let tag of tags.controls; let i = index">
          <input [formControlName]="i" matInput>
        </div>
        <button type="button" mat-raised-button color="primary" (click)="addTag()">Добавить тег</button>
      </div>

      <div class="form-group">
        <label for="timeCooking">Время приготовления:</label>
        <input id="timeCooking" type="number" formControlName="timeCooking" matInput>
      </div>

      <div class="form-group" formGroupName="foodValue">
        <label>Пищевая ценность:</label>
        <div>
          <label for="calories">Калории:</label>
          <input id="calories" type="number" formControlName="calories" matInput>
        </div>
        <div>
          <label for="fats">Жиры:</label>
          <input id="fats" type="number" formControlName="fats" matInput>
        </div>
        <div>
          <label for="carbohydrates">Углеводы:</label>
          <input id="carbohydrates" type="number" formControlName="carbohydrates" matInput>
        </div>
        <div>
          <label for="proteins">Белки:</label>
          <input id="proteins" type="number" formControlName="proteins" matInput>
        </div>
      </div>
    </fieldset>

    <fieldset class="form-section">
      <legend>Детальная информация</legend>
      <div class="form-group" formArrayName="cookingSteps">
        <label>Этапы приготовления:</label>
        <div *ngFor="let step of cookingSteps.controls; let i = index" [formGroupName]="i">
          <label for="step-title-{{i}}">Краткое действие:</label>
          <input id="step-title-{{i}}" formControlName="title" matInput>

          <label for="step-description-{{i}}">Описание:</label>
          <textarea id="step-description-{{i}}" formControlName="description" matInput></textarea>
        </div>
        <button type="button" mat-raised-button color="primary" (click)="addCookingStep()">Добавить этап</button>
      </div>
    </fieldset>

    <fieldset class="form-section">
      <legend>Ингредиенты</legend>
      <div class="form-group" formArrayName="ingredients">
        <label>Ингредиенты:</label>
        <div *ngFor="let ingredient of ingredients.controls; let i = index" [formGroupName]="i">
          <label for="ingredient-title-{{i}}">Название ингредиента:</label>
          <input id="ingredient-title-{{i}}" formControlName="title" matInput>

          <label for="ingredient-description-{{i}}">Описание:</label>
          <textarea id="ingredient-description-{{i}}" formControlName="description" matInput></textarea>
        </div>
        <button type="button" mat-raised-button color="primary" (click)="addIngredient()">Добавить ингредиент</button>
      </div>
    </fieldset>
    <button type="submit" mat-raised-button color="primary">Создать рецепт</button>
  </form>
</div>
